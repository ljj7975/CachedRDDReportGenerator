# CachedRDDReportGenerator
Fall '17, University of Waterloo.

## Author
Jaejun (Brandon) Lee, j474lee@edu.uwaterloo.ca

## Background
In order to take advatnage of full functionality of Spark, maximizing use of cached RDD is very important
However, current version of Spark does not provide any informations regarding status of caches as porgram gets executed
CachedRDDReportGenerator is designed to provide a way of interpretting current use of cached RDD by generating an usage report using Spark Event Logs

## Build steps
Gradle is used as the build tool.

* Clone the repo: `git clone git@github.com:ljj7975/CachedRDDReportGenerator.git`
* To build project: `gradle build`

## Running CachedRDDReportGenerator
CachedRDDReportGenerator takes log file generated by Spark when Spark Spark Event log file:
* `java -jar build/libs/CachedRDDReportGenerator-1.0-SNAPSHOT.jar <SparkEventLogFile>`

If SparkEventLogFile argument is not specified, most recent log from default event log dir (/tmp/spark-events) will be used

## Detail about Usage Report
Usage report contains RDD id and 7 counters where each counter represents different use cases of the RDD as following:
* index 0 - was cached when re-used
* index 1 - was partially cached when re-used
* index 2 - not cached when reused, because app didn't cache
* index 3 - not cached when reused, because had been evicted before re-use
* index 4 - not cached when reused, because had been unpersisted before re-use
* index 5 - cached, but not used because stage descendant was cached
* index 6 - not cached, but OK because stage descendant was cached

### sample usage report
```
RDD 0 { 0 0 3 0 0 0 0 }
RDD 1 { 0 0 3 0 0 0 0 }
RDD 2 { 0 0 3 0 0 0 0 }
RDD 3 { 0 0 2 0 0 0 1 }
RDD 4 { 0 0 2 0 0 0 1 }
RDD 5 { 1 0 1 0 1 0 0 }
```

## Relevent Research
CachedRDDReportGenerator is developed as part of a research directed by Ken Salem (cs.uwaterloo.ca/~kmsalem/) with assistent of Michael Mior
The research involves evaluating cache mechanisms of Spark by analzying current cache efficiency
